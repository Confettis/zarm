(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{722:function(e,n,i){"use strict";i.r(n),n.default='# FilePicker \u6587\u4ef6\u9009\u62e9\u5668\n\n## \u57fa\u672c\u7528\u6cd5\n\n```jsx\nimport { useState } from \'react\';\nimport { Cell, FilePicker, Icon } from \'zarm\';\n\nconst Demo = () => {\n  const [files, setFiles] = useState([]);\n\n  const onSelect = (file) => {\n    console.log(file);\n    const newFiles = files.concat(file);\n    setFiles(newFiles);\n  };\n\n  return (\n    <>\n      {files.map((item, index) => (\n        <Cell key={+index}>{item.fileName}</Cell>\n      ))}\n      <div className="file-picker-wrapper">\n        <FilePicker className="file-picker-btn" onChange={onSelect}>\n          <Icon type="add" size="lg" />\n        </FilePicker>\n      </div>\n    </>\n  );\n};\n\nReactDOM.render(<Demo />, mountNode);\n```\n\n## \u591a\u9009\u6a21\u5f0f\n\n```jsx\nimport { useState } from \'react\';\nimport { Cell, FilePicker, Icon, Toast, Badge } from \'zarm\';\n\nconst MAX_FILES_COUNT = 5;\n\nconst onBeforeSelect = () => {\n  alert(\'\u6267\u884c onBeforeSelect \u65b9\u6cd5\');\n};\n\nconst Demo = () => {\n  const [files, setFiles] = useState([]);\n\n  const onSelect = (selFiles) => {\n    const newFiles = files.concat(selFiles);\n    if (newFiles.length > MAX_FILES_COUNT) {\n      Toast.show(\'\u6700\u591a\u53ea\u80fd\u9009\u62e95\u5f20\u56fe\u7247\');\n      return;\n    }\n    setFiles(newFiles);\n  };\n\n  const remove = (index) => {\n    const newFiles = [].concat(files);\n    newFiles.splice(index, 1);\n    setFiles(newFiles);\n    Toast.show(\'\u5220\u9664\u6210\u529f\');\n  };\n\n  const imgRender = () => {\n    return files.map((item, index) => {\n      return (\n        <Badge\n          key={+index}\n          className="file-picker-item"\n          shape="circle"\n          text={\n            <span className="file-picker-closebtn">\n              <Icon type="wrong" />\n            </span>\n          }\n          onClick={() => remove(index)}\n        >\n          <div className="file-picker-item-img">\n            <a href={item.thumbnail} target="_blank" rel="noopener noreferrer">\n              <img src={item.thumbnail} alt="" />\n            </a>\n          </div>\n        </Badge>\n      );\n    });\n  };\n\n  return (\n    <div className="file-picker-wrapper">\n      {imgRender()}\n      {files.length < MAX_FILES_COUNT && (\n        <FilePicker\n          multiple\n          className="file-picker-btn"\n          accept="image/*"\n          onBeforeSelect={onBeforeSelect}\n          onChange={onSelect}\n        >\n          <Icon type="add" size="lg" />\n        </FilePicker>\n      )}\n    </div>\n  );\n};\n\nReactDOM.render(<Demo />, mountNode);\n```\n\n## \u7981\u7528\u72b6\u6001\n\n```jsx\nimport { FilePicker, Icon } from \'zarm\';\n\nReactDOM.render(\n  <div className="file-picker-wrapper">\n    <FilePicker className="file-picker-btn" disabled>\n      <Icon type="add" size="lg" />\n    </FilePicker>\n  </div>,\n  mountNode,\n);\n```\n\n## API\n\n| \u5c5e\u6027           | \u7c7b\u578b                                | \u9ed8\u8ba4\u503c     | \u8bf4\u660e                                                                        |\n| :------------- | :---------------------------------- | :--------- | :-------------------------------------------------------------------------- |\n| accept         | string                              | -          | \u5141\u8bb8\u4e0a\u4f20\u7684\u9644\u4ef6\u683c\u5f0f                                                          |\n| capture        | string                              | -          | \u5524\u8d77\u7684\u539f\u751f\u5e94\u7528\uff0c\u53ef\u9009\u503c\uff1a\u7167\u76f8\u673a`camera`, \u6444\u50cf\u673a`camcorder`, \u5f55\u97f3`microphone` |\n| multiple       | boolean                             | false      | \u662f\u5426\u591a\u9009                                                                    |\n| disabled       | boolean                             | false      | \u662f\u5426\u7981\u7528                                                                    |\n| onBeforeSelect | () => boolean                       | () => true | \u9009\u62e9\u524d\u89e6\u53d1\u7684\u4e8b\u4ef6                                                            |\n| onChange       | (file?: object \\| object[]) => void | -          | \u503c\u53d8\u5316\u65f6\u89e6\u53d1\u7684\u56de\u8c03\u51fd\u6570                                                      |\n'}}]);
//# sourceMappingURL=53.e60fce9a.js.map